<!DOCTYPE 
	html 
	PUBLIC 
	"-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html	xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://xmlns.jcp.org/jsf/facelets"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:c="http://xmlns.jcp.org/jsf/core"
		xmlns:p="http://primefaces.org/ui"
>
	<head>
		<title><f:insert name="title">Tela de Consulta ao cadastro de Passageiros</f:insert></title>
		<link rel="Stylesheet" type="text/css" href="../css/estilos.css" />
	</head>
	<body>
		<f:debug hotkey="x" rendered="#{initParam['javax.faces.FACELETS_DEVELOPMENT']}"/>
		<div id="header">
			 
			<f:insert name="header">
				PrimeFaces - Consulta ao Cadastro de Passageiros
			</f:insert>
		</div>
		<div id="content">
			<!-- f:repeat 
				var="v"
				varStatus="vs" 
				value="#{passageiroManagedBean.colecaoPassageiros}"
				
			>
				<h:outputText value="#{vs.index}"></h:outputText>
				<br/>
			</f:repeat -->
			<p:dataTable
				rendered="#{not empty passageiroManagedBean.colecaoPassageiros}"
				value="#{passageiroManagedBean.colecaoPassageiros}"
				var="pass" rowStyleClass="#{index % 2 == 0 ? 'resultadoLinhaPar' : 'resultadoLinhaImpar' }"
				rowIndexVar="index"
				style="border-style: groove;"
			>
				<p:column headerText="CPF">
					#{pass.CPF}
				</p:column>
				<p:column headerText="Nome">
					#{pass.nome}
				</p:column>
				<p:column headerText="e-Mail">
					#{pass.EMail}
				</p:column>
				<p:column headerText="Data de Nascimento">
					<h:outputText value="#{pass.dataNascimento}">
						<c:convertDateTime type="date" />
					</h:outputText>
				</p:column>
				<p:column headerText="Necessidades Especiais">
					#{pass.isPortadorNecessidadesEspeciais}
				</p:column>
				<p:column headerText="Crédito">
					<h:outputText value="#{pass.creditoPromocoes}">
						<c:convertNumber 
							type="currency" maxFractionDigits="3" minFractionDigits="2"
							currencySymbol="R$" locale="pt_BR"
						/>
					</h:outputText>
				</p:column>
			</p:dataTable>
		</div>
		<div id="headerSecond">
			 
			<f:insert name="header">
				JSF Padrão - Consulta ao Cadastro de Passageiros
			</f:insert>
		</div>
		<div>
			<h:dataTable
				rendered="#{not empty passageiroManagedBean.colecaoPassageiros}" 
				value="#{passageiroManagedBean.colecaoPassageiros}" 
				var="passageiro"		border="1"
				rowClasses="resultadoLinhaPar, resultadoLinhaImpar">
				<h:column >#{passageiro.CPF}</h:column>
				<h:column>#{passageiro.nome}</h:column>
				<h:column>#{passageiro.EMail}</h:column>
				<h:column>
					<h:outputText value="#{passageiro.dataNascimento}">
						<c:convertDateTime type="date" />
					</h:outputText>
				</h:column>
				<h:column>#{passageiro.isPortadorNecessidadesEspeciais}</h:column>
				<h:column>
					<h:outputText value="#{passageiro.creditoPromocoes}">
						<c:convertNumber 
							type="currency" maxFractionDigits="3" minFractionDigits="2"
							currencySymbol="R$" locale="pt_BR"
						/>
					</h:outputText>
				</h:column>
			</h:dataTable>
			<h:outputText 
				rendered="#{empty passageiroManagedBean.colecaoPassageiros}"
				value="Nenhum registro encontrado"  
			/>
		</div>
		
		<div id="footer">
			<br />
			<br />
			<h:button value="Voltar" outcome="cadastro" />
		</div>
	</body>
</html>